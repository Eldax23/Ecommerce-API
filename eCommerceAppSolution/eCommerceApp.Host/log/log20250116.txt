2025-01-16 12:02:29.202 +02:00 [INF] Application Is Building.....
2025-01-16 12:02:30.333 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:02:30.587 +02:00 [INF] Application Is Running.....
2025-01-16 12:02:30.671 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:02:30.673 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:02:30.676 +02:00 [INF] Hosting environment: Development
2025-01-16 12:02:30.677 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:02:31.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:02:32.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 899.2249ms
2025-01-16 12:02:32.434 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:02:32.527 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.9395ms
2025-01-16 12:03:43.835 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - application/json 130
2025-01-16 12:03:43.842 +02:00 [INF] CORS policy execution successful.
2025-01-16 12:03:43.978 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-16 12:03:43.981 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:03:44.003 +02:00 [INF] Route matched with {action = "Update", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(eCommerceApp.Application.DTOs.Identity.CreateUser) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 12:03:44.520 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 12:03:44.545 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) in 536.7011ms
2025-01-16 12:03:44.548 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:03:44.550 +02:00 [ERR]  Unknown Exception
System.ArgumentNullException: Value cannot be null. (Parameter 'password')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.HashPassword(TUser user, String password)
   at eCommerceApp.Infrastructure.Repositories.Authentication.UserManagement.UpdateUser(AppUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Repositories\Authentication\UserManagement.cs:line 55
   at eCommerceApp.Application.Services.Implementation.Authentication.AuthenticationService.UpdateUser(CreateUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Application\Services\Implementation\Authentication\AuthenticationService.cs:line 93
   at eCommerceApp.Host.Controllers.AuthenticationController.Update(CreateUser createUser) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host\Controllers\AuthenticationController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at eCommerceApp.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-01-16 12:03:44.571 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - 500 null application/json 736.1745ms
2025-01-16 12:04:38.739 +02:00 [INF] Application is shutting down...
2025-01-16 12:04:47.437 +02:00 [INF] Application Is Building.....
2025-01-16 12:04:47.615 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:04:47.685 +02:00 [INF] Application Is Running.....
2025-01-16 12:04:47.733 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:04:47.736 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:04:47.736 +02:00 [INF] Hosting environment: Development
2025-01-16 12:04:47.737 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:04:48.240 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:04:48.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 107.0278ms
2025-01-16 12:04:48.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:04:48.584 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.3211ms
2025-01-16 12:04:57.314 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - application/json 130
2025-01-16 12:04:57.323 +02:00 [INF] CORS policy execution successful.
2025-01-16 12:04:57.330 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-16 12:04:57.333 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:04:57.349 +02:00 [INF] Route matched with {action = "Update", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(eCommerceApp.Application.DTOs.Identity.CreateUser) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 12:04:57.619 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 12:04:58.273 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 12:04:59.211 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2025-01-16 12:04:59.265 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) in 1912.8141ms
2025-01-16 12:04:59.267 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:04:59.269 +02:00 [ERR] DB  Exception
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at eCommerceApp.Infrastructure.Repositories.Authentication.UserManagement.UpdateUser(AppUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Repositories\Authentication\UserManagement.cs:line 59
   at eCommerceApp.Application.Services.Implementation.Authentication.AuthenticationService.UpdateUser(CreateUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Application\Services\Implementation\Authentication\AuthenticationService.cs:line 94
   at eCommerceApp.Host.Controllers.AuthenticationController.Update(CreateUser createUser) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host\Controllers\AuthenticationController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at eCommerceApp.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-01-16 12:04:59.298 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - 500 null application/json 1983.8386ms
2025-01-16 12:08:55.305 +02:00 [INF] Application is shutting down...
2025-01-16 12:09:05.887 +02:00 [INF] Application Is Building.....
2025-01-16 12:09:06.070 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:09:06.132 +02:00 [INF] Application Is Running.....
2025-01-16 12:09:06.172 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:09:06.174 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:09:06.175 +02:00 [INF] Hosting environment: Development
2025-01-16 12:09:06.175 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:09:06.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:09:06.859 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 129.9511ms
2025-01-16 12:09:06.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:09:07.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.3976ms
2025-01-16 12:09:11.224 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - application/json 130
2025-01-16 12:09:11.230 +02:00 [INF] CORS policy execution successful.
2025-01-16 12:09:11.234 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-16 12:09:11.238 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:09:11.254 +02:00 [INF] Route matched with {action = "Update", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(eCommerceApp.Application.DTOs.Identity.CreateUser) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 12:09:11.462 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 12:09:12.017 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 12:09:12.515 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2025-01-16 12:09:12.557 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) in 1298.1579ms
2025-01-16 12:09:12.559 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:09:12.560 +02:00 [ERR] DB  Exception
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at eCommerceApp.Infrastructure.Repositories.Authentication.UserManagement.UpdateUser(AppUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Repositories\Authentication\UserManagement.cs:line 63
   at eCommerceApp.Application.Services.Implementation.Authentication.AuthenticationService.UpdateUser(CreateUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Application\Services\Implementation\Authentication\AuthenticationService.cs:line 94
   at eCommerceApp.Host.Controllers.AuthenticationController.Update(CreateUser createUser) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host\Controllers\AuthenticationController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at eCommerceApp.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-01-16 12:09:12.586 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - 500 null application/json 1361.4274ms
2025-01-16 12:10:29.701 +02:00 [INF] Application is shutting down...
2025-01-16 12:10:39.436 +02:00 [INF] Application Is Building.....
2025-01-16 12:10:41.007 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:10:41.201 +02:00 [INF] Application Is Running.....
2025-01-16 12:10:41.432 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:10:41.434 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:10:41.435 +02:00 [INF] Hosting environment: Development
2025-01-16 12:10:41.435 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:10:41.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:10:41.968 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 302.5691ms
2025-01-16 12:10:42.053 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:10:42.187 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.1781ms
2025-01-16 12:11:02.967 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - application/json 130
2025-01-16 12:11:02.981 +02:00 [INF] CORS policy execution successful.
2025-01-16 12:11:03.166 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-16 12:11:03.169 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:11:03.187 +02:00 [INF] Route matched with {action = "Update", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(eCommerceApp.Application.DTOs.Identity.CreateUser) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 12:11:03.663 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 12:11:04.511 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 12:11:05.555 +02:00 [INF] Executed DbCommand (176ms) [Parameters=[@p15='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2025-01-16 12:11:06.313 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host) in 3119.7561ms
2025-01-16 12:11:06.372 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Update (eCommerceApp.Host)'
2025-01-16 12:11:06.525 +02:00 [ERR] DB  Exception
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at eCommerceApp.Infrastructure.Repositories.Authentication.UserManagement.UpdateUser(AppUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Repositories\Authentication\UserManagement.cs:line 63
   at eCommerceApp.Application.Services.Implementation.Authentication.AuthenticationService.UpdateUser(CreateUser user) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Application\Services\Implementation\Authentication\AuthenticationService.cs:line 94
   at eCommerceApp.Host.Controllers.AuthenticationController.Update(CreateUser createUser) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host\Controllers\AuthenticationController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at eCommerceApp.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 16
2025-01-16 12:11:06.609 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5071/api/Authentication/Update - 500 null application/json 3641.8685ms
2025-01-16 12:34:44.696 +02:00 [INF] Application Is Building.....
2025-01-16 12:34:44.871 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:34:44.947 +02:00 [INF] Application Is Running.....
2025-01-16 12:34:44.996 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:34:44.999 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:34:45.000 +02:00 [INF] Hosting environment: Development
2025-01-16 12:34:45.000 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:34:45.412 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:34:45.522 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 110.8439ms
2025-01-16 12:34:45.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:34:45.680 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.0625ms
2025-01-16 12:34:48.677 +02:00 [INF] Application is shutting down...
2025-01-16 12:36:03.936 +02:00 [INF] Application Is Building.....
2025-01-16 12:36:04.134 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:36:04.226 +02:00 [INF] Application Is Running.....
2025-01-16 12:36:04.282 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:36:04.284 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:36:04.284 +02:00 [INF] Hosting environment: Development
2025-01-16 12:36:04.285 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:36:04.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:36:04.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 123.5592ms
2025-01-16 12:36:04.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:36:05.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.8667ms
2025-01-16 12:36:26.214 +02:00 [INF] Application is shutting down...
2025-01-16 12:38:55.748 +02:00 [INF] Application Is Building.....
2025-01-16 12:38:55.917 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 12:38:55.989 +02:00 [INF] Application Is Running.....
2025-01-16 12:38:56.040 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 12:38:56.042 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 12:38:56.043 +02:00 [INF] Hosting environment: Development
2025-01-16 12:38:56.043 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 12:38:56.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 12:38:56.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 112.6881ms
2025-01-16 12:38:56.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 12:38:56.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.3993ms
2025-01-16 12:39:28.648 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5071/api/Authentication/ChangePassword - application/json 76
2025-01-16 12:39:28.655 +02:00 [INF] CORS policy execution successful.
2025-01-16 12:39:28.665 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-16 12:39:28.669 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.ChangePassword (eCommerceApp.Host)'
2025-01-16 12:39:28.699 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(eCommerceApp.Application.DTOs.Identity.ForgetPassword) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 12:39:28.978 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.ChangePassword (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 12:39:29.590 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 12:39:30.264 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 12:39:30.545 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (Size = 4000), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [PasswordHash] = @p0
OUTPUT 1
WHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;
2025-01-16 12:39:30.570 +02:00 [INF] Executed action method eCommerceApp.Host.Controllers.AuthenticationController.ChangePassword (eCommerceApp.Host), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1586.8849ms.
2025-01-16 12:39:30.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.DTOs.ServiceResponse'.
2025-01-16 12:39:30.597 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.ChangePassword (eCommerceApp.Host) in 1891.7879ms
2025-01-16 12:39:30.599 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.ChangePassword (eCommerceApp.Host)'
2025-01-16 12:39:30.611 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5071/api/Authentication/ChangePassword - 200 null application/json; charset=utf-8 1962.9903ms
2025-01-16 12:40:04.258 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5071/api/Authentication/login - application/json 68
2025-01-16 12:40:04.261 +02:00 [INF] CORS policy execution successful.
2025-01-16 12:40:04.262 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host)'
2025-01-16 12:40:04.266 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.DTOs.Identity.LoginUser) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 12:40:04.286 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 12:40:04.341 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 12:40:04.346 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 12:40:04.403 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-16 12:40:04.534 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 12:40:04.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 12:40:04.541 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-16 12:40:04.625 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [Token], [UserId])
VALUES (@p0, @p1, @p2);
2025-01-16 12:40:04.627 +02:00 [INF] Executed action method eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 339.4748ms.
2025-01-16 12:40:04.629 +02:00 [INF] Executing OkObjectResult, writing value of type 'eCommerceApp.Application.DTOs.LoginResponse'.
2025-01-16 12:40:04.632 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host) in 365.689ms
2025-01-16 12:40:04.633 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host)'
2025-01-16 12:40:04.634 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5071/api/Authentication/login - 200 null application/json; charset=utf-8 375.637ms
2025-01-16 12:40:12.585 +02:00 [INF] Application is shutting down...
2025-01-16 16:09:37.676 +02:00 [INF] Application Is Building.....
2025-01-16 16:09:37.921 +02:00 [INF] User profile is available. Using 'C:\Users\moham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-16 16:09:38.003 +02:00 [INF] Application Is Running.....
2025-01-16 16:09:38.071 +02:00 [INF] Now listening on: http://localhost:5071
2025-01-16 16:09:38.072 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-16 16:09:38.073 +02:00 [INF] Hosting environment: Development
2025-01-16 16:09:38.073 +02:00 [INF] Content root path: D:\Ecommerce-API\eCommerceAppSolution\eCommerceApp.Host
2025-01-16 16:09:38.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/index.html - null null
2025-01-16 16:09:38.468 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/index.html - 200 null text/html;charset=utf-8 124.1556ms
2025-01-16 16:09:38.538 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - null null
2025-01-16 16:09:38.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5071/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.2854ms
2025-01-16 16:10:00.457 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5071/api/Authentication/login - application/json 60
2025-01-16 16:10:00.465 +02:00 [INF] CORS policy execution successful.
2025-01-16 16:10:00.475 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-16 16:10:00.478 +02:00 [INF] Executing endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host)'
2025-01-16 16:10:00.496 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(eCommerceApp.Application.DTOs.Identity.LoginUser) on controller eCommerceApp.Host.Controllers.AuthenticationController (eCommerceApp.Host).
2025-01-16 16:10:00.766 +02:00 [INF] Executing action method eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host) - Validation state: "Valid"
2025-01-16 16:10:01.377 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 16:10:02.059 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 16:10:02.101 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-16 16:10:02.109 +02:00 [INF] Executed action method eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1337.5632ms.
2025-01-16 16:10:02.118 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-16 16:10:02.125 +02:00 [INF] Executed action eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host) in 1623.9514ms
2025-01-16 16:10:02.126 +02:00 [INF] Executed endpoint 'eCommerceApp.Host.Controllers.AuthenticationController.Login (eCommerceApp.Host)'
2025-01-16 16:10:02.139 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5071/api/Authentication/login - 400 null text/plain; charset=utf-8 1681.6097ms
2025-01-16 16:22:07.884 +02:00 [INF] Application is shutting down...
2025-01-16 16:29:20.317 +02:00 [INF] Application Is Building.....
2025-01-16 16:29:20.888 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 16:29:20.977 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 16:29:45.383 +02:00 [INF] Application Is Building.....
2025-01-16 16:29:45.836 +02:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-16 16:29:46.087 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-16 16:29:46.107 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-01-16 16:29:46.110 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-01-16 16:29:46.112 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-01-16 16:29:46.126 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-01-16 16:29:46.139 +02:00 [INF] Applying migration '20250116142923_AddingPaymentMethodsTable'.
2025-01-16 16:29:46.210 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PaymentMethods] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_PaymentMethods] PRIMARY KEY ([Id])
);
2025-01-16 16:29:46.243 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name') AND [object_id] = OBJECT_ID(N'[PaymentMethods]'))
    SET IDENTITY_INSERT [PaymentMethods] ON;
INSERT INTO [PaymentMethods] ([Id], [Name])
VALUES ('be6ee13a-955b-4606-98a6-f14053ea6aa5', N'CreditCard');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name') AND [object_id] = OBJECT_ID(N'[PaymentMethods]'))
    SET IDENTITY_INSERT [PaymentMethods] OFF;
2025-01-16 16:29:46.246 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250116142923_AddingPaymentMethodsTable', N'8.0.0');
